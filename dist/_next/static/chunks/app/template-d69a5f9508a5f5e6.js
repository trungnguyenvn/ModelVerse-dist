(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[397],{35562:(e,s,r)=>{Promise.resolve().then(r.bind(r,18205))},18205:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>p});var t=r(95155),a=r(38962),n=r(3031),l=r(12115);function i(){let{login:e}=(0,a.$)(),[s,r]=(0,l.useState)({accessKeyId:"",secretAccessKey:"",region:"us-east-1"}),n=async r=>{r.preventDefault(),await e(s)};return(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:(0,t.jsxs)("div",{className:"bg-white p-8 rounded-lg shadow-md w-full max-w-md",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold mb-6 text-center",children:"AWS Credentials Setup"}),(0,t.jsx)("form",{onSubmit:n,children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"accessKeyId",className:"block text-sm font-medium text-gray-700",children:"Access Key ID"}),(0,t.jsx)("input",{type:"text",id:"accessKeyId",value:s.accessKeyId,onChange:e=>r(s=>({...s,accessKeyId:e.target.value})),className:"mt-1 p-2 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"secretAccessKey",className:"block text-sm font-medium text-gray-700",children:"Secret Access Key"}),(0,t.jsx)("input",{type:"password",id:"secretAccessKey",value:s.secretAccessKey,onChange:e=>r(s=>({...s,secretAccessKey:e.target.value})),className:"mt-1 p-2 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"region",className:"block text-sm font-medium text-gray-700",children:"AWS Region"}),(0,t.jsxs)("select",{id:"region",value:s.region,onChange:e=>r(s=>({...s,region:e.target.value})),className:"mt-1 p-2 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",required:!0,children:[(0,t.jsx)("option",{value:"us-east-1",children:"US East (N. Virginia)"}),(0,t.jsx)("option",{value:"us-west-2",children:"US West (Oregon)"})]})]}),(0,t.jsx)("button",{type:"submit",className:"w-full bg-indigo-600 text-white py-2 px-4 rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2",children:"Save Credentials"})]})}),(0,t.jsx)("div",{className:"mt-4 p-4 bg-blue-50 rounded-md",children:(0,t.jsxs)("p",{className:"text-sm text-blue-800",children:[(0,t.jsx)("span",{className:"font-semibold",children:"\uD83D\uDD12 Security Note:"})," Your AWS credentials and all information are stored locally in your browser only. Nothing is uploaded to any external servers."]})}),(0,t.jsx)("div",{className:"mt-4 p-4 bg-yellow-50 rounded-md",children:(0,t.jsxs)("p",{className:"text-sm text-yellow-800",children:[(0,t.jsx)("span",{className:"font-semibold",children:"âš¡ Deploy Your Own:"})," For enhanced security, you can deploy your own instance using the distributed compiled code available at"," ",(0,t.jsx)("a",{href:"https://github.com/trungnguyenvn/ModelVerse-dist",target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-yellow-900",children:"github.com/trungnguyenvn/ModelVerse-dist"})]})})]})})}var o=r(69635),d=r(87465);let c=()=>{let{credentials:e,switchRegion:s}=(0,a.$)(),[r,n]=(0,l.useState)(!1),i=(0,l.useRef)(null);if(!e)return null;let c=Array.from(new Set(o.L6.flatMap(e=>e.regions))).sort();return(0,l.useEffect)(()=>{let e=e=>{i.current&&!i.current.contains(e.target)&&n(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]),(0,t.jsx)("div",{className:"flex items-center gap-2 sm:gap-4",children:(0,t.jsxs)("div",{className:"relative min-w-[120px]",ref:i,children:[(0,t.jsxs)("button",{onClick:()=>n(!r),className:"flex w-full items-center justify-between rounded px-2 py-1 text-sm text-gray-600 hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-gray-800","aria-expanded":r,"aria-haspopup":"listbox",children:[e.region,(0,t.jsx)(d.A,{className:"ml-1 h-4 w-4 text-gray-400 stroke-[1.5] transition-transform ".concat(r?"rotate-180":""),"aria-hidden":"true"})]}),r&&(0,t.jsx)("ul",{className:"absolute mt-1 max-h-60 w-full overflow-auto rounded bg-white py-1 shadow-lg dark:bg-gray-800",role:"listbox",children:c.map(r=>(0,t.jsx)("li",{onClick:()=>{s(r),n(!1)},className:"cursor-pointer px-2 py-1 text-sm hover:bg-gray-100 dark:hover:bg-gray-700 ".concat(e.region===r?"text-blue-600 dark:text-blue-400":"text-gray-600 dark:text-gray-300"),role:"option","aria-selected":e.region===r,children:r},r))})]})})};var x=r(69253);let u=e=>{let{onConfirm:s,onCancel:r}=e;return(0,t.jsxs)("div",{className:"absolute right-0 mt-1 bg-gray-700 rounded-md shadow-lg p-2 z-10",children:[(0,t.jsx)("p",{className:"text-sm mb-2",children:"Delete this conversation?"}),(0,t.jsxs)("div",{className:"flex space-x-2",children:[(0,t.jsx)("button",{onClick:s,className:"px-3 py-1 text-xs bg-red-500 hover:bg-red-600 rounded",children:"Delete"}),(0,t.jsx)("button",{onClick:r,className:"px-3 py-1 text-xs bg-gray-600 hover:bg-gray-500 rounded",children:"Cancel"})]})]})};function h(e){let{conversations:s,activeConversation:r,createNewConversation:n,setActiveConversation:i,deleteConversation:o,updateConversationTitle:d,isSidebarVisible:c,toggleSidebar:h,isPopup:g=!1,setShowAgentManager:m}=e,[v,p]=(0,l.useState)(null),{signOut:b}=(0,a.$)();return(0,t.jsxs)("aside",{className:"w-64 bg-gray-800 text-white flex flex-col h-full",children:[(0,t.jsxs)("div",{className:"p-4 border-b border-gray-700 flex justify-between items-center",children:[(0,t.jsx)("h1",{className:"text-xl font-bold",children:"Bedrock Chat"}),(0,t.jsx)("button",{onClick:h,className:"lg:hidden p-2 hover:bg-gray-700 rounded-md","aria-label":"Close Sidebar",children:(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,t.jsx)("div",{className:"p-4",children:(0,t.jsxs)("button",{onClick:n,className:"w-full bg-gray-700 hover:bg-gray-600 text-white font-semibold py-2 px-4 rounded flex items-center justify-center",children:[(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:(0,t.jsx)("path",{fillRule:"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z",clipRule:"evenodd"})}),"New Chat"]})}),(0,t.jsx)("div",{className:"flex-1 overflow-y-auto",children:(0,t.jsx)("div",{className:"space-y-1 p-2",children:s.map(e=>(0,t.jsx)("div",{className:"group p-2 rounded-lg cursor-pointer transition-colors duration-150 relative\n            ".concat((null==r?void 0:r.id)===e.id?"bg-gray-600":"hover:bg-gray-700"),onClick:()=>i(e.id),children:(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"})}),(0,t.jsx)("p",{className:"truncate text-sm flex-grow",children:e.title})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between mt-1 text-xs text-gray-400",children:[(0,t.jsx)("span",{className:"opacity-0 group-hover:opacity-100 transition-opacity",children:(0,x.GP)(e.lastEditedAt,"MMM d, yyyy h:mm a")}),(0,t.jsxs)("div",{className:"flex items-center space-x-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[(0,t.jsx)("button",{onClick:s=>{s.stopPropagation();let r=prompt("Enter new title:",e.title);r&&d(e.id,r)},className:"p-1 hover:bg-gray-500 rounded",children:(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3 w-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),(0,t.jsx)("button",{onClick:s=>{s.stopPropagation(),p(e.id)},className:"p-1 hover:bg-gray-500 rounded",children:(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3 w-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})}),v===e.id&&(0,t.jsx)(u,{onConfirm:()=>{o(e.id),p(null)},onCancel:()=>p(null)})]})]})]})},e.id))})}),(0,t.jsxs)("div",{className:"p-4 border-t border-gray-700 space-y-2",children:[(0,t.jsxs)("button",{className:"w-full text-left px-4 py-2 rounded hover:bg-gray-700 flex items-center",onClick:()=>m(!0),children:[(0,t.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),"Settings"]}),(0,t.jsxs)("button",{onClick:b,className:"w-full text-left px-4 py-2 rounded hover:bg-gray-700 flex items-center text-red-400",children:[(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),"Sign Out"]})]})]})}var g=r(93912),m=r(70607);function v(){return(0,t.jsxs)("div",{className:"flex h-screen animate-pulse",children:[(0,t.jsxs)("div",{className:"w-64 bg-gray-100 border-r border-gray-200 p-4",children:[(0,t.jsx)("div",{className:"h-10 bg-gray-200 rounded mb-4"}),(0,t.jsx)("div",{className:"space-y-3",children:[1,2,3,4,5].map(e=>(0,t.jsx)("div",{className:"h-12 bg-gray-200 rounded"},e))})]}),(0,t.jsxs)("div",{className:"flex-1 flex flex-col",children:[(0,t.jsxs)("div",{className:"h-16 bg-white border-b border-gray-200 px-4 flex items-center justify-between",children:[(0,t.jsx)("div",{className:"h-6 w-48 bg-gray-200 rounded"}),(0,t.jsx)("div",{className:"h-8 w-32 bg-gray-200 rounded"})]}),(0,t.jsx)("div",{className:"flex-1 p-4 space-y-4",children:[1,2,3].map(e=>(0,t.jsxs)("div",{className:"flex gap-4",children:[(0,t.jsx)("div",{className:"h-10 w-10 bg-gray-200 rounded-full"}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-2"}),(0,t.jsx)("div",{className:"h-4 bg-gray-200 rounded w-1/2"})]})]},e))})]})]})}function p(e){let{children:s}=e,{credentials:r,isLoading:o}=(0,a.$)(),{conversations:d,activeConversation:x,createNewConversation:u,setActiveConversation:p,deleteConversation:b,updateConversationTitle:y}=(0,n.g)(),[f,j]=(0,l.useState)(!0),{settings:w,toggleSidebar:N}=(0,g.M)();(0,l.useRef)();let[k,C]=(0,l.useState)(!1);return o?(0,t.jsx)(v,{}):r?(0,t.jsxs)("div",{className:"flex h-screen relative",children:[w.isSidebarVisible&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-20 lg:hidden",onClick:N}),(0,t.jsx)("div",{className:"\n          fixed lg:static\n          inset-y-0 left-0\n          transform transition-transform duration-300 ease-in-out\n          ".concat(w.isSidebarVisible?"translate-x-0":"-translate-x-full","\n          lg:translate-x-0\n          w-72 lg:w-64\n          z-30\n        "),children:(0,t.jsx)(h,{conversations:d,activeConversation:x,createNewConversation:u,setActiveConversation:p,deleteConversation:b,updateConversationTitle:y,isSidebarVisible:f,toggleSidebar:N,setShowAgentManager:C})}),(0,t.jsxs)("div",{className:"flex-1 flex flex-col w-full lg:w-[calc(100%-16rem)] pt-1 pb-1",children:[(0,t.jsx)("header",{className:"sticky top-0",children:(0,t.jsxs)("div",{className:"h-full p-2 flex items-center justify-between max-w-screen-xl mx-auto",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 sm:gap-4 flex-1 min-w-0",children:[(0,t.jsx)("button",{onClick:N,className:"inline-flex items-center justify-center gap-1 rounded py-1 px-2 text-gray-600 hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-gray-800 lg:hidden","aria-label":"Toggle Sidebar",children:(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 stroke-[1.5]",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 6h16M4 12h16M4 18h16"})})}),(0,t.jsx)("button",{onClick:u,className:"inline-flex items-center justify-center gap-1 rounded py-1 px-2 text-gray-600 hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-gray-800 lg:hidden","aria-label":"New Chat",children:(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 stroke-[1.5]",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4v16m8-8H4"})})}),(0,t.jsx)("div",{className:"flex items-center min-w-0",children:(0,t.jsx)("h2",{className:"text-base font-bold text-gray-600 dark:text-gray-300 truncate",children:(null==x?void 0:x.title)||"AWS Bedrock Chat"})})]}),(0,t.jsx)(c,{})]})}),(0,t.jsx)("main",{className:"flex-1 overflow-auto",children:s}),(0,t.jsx)(m.g,{isOpen:k,onClose:()=>C(!1)})]})]}):(0,t.jsx)(i,{})}},93912:(e,s,r)=>{"use strict";r.d(s,{Z:()=>o,M:()=>d});var t=r(95155),a=r(12115),n=r(5034);let l={isSidebarVisible:!0},i=(0,a.createContext)({});function o(e){let{children:s}=e,r=function(){let[e,s]=(0,a.useState)(l),[r,t]=(0,a.useState)(!0);(0,a.useEffect)(()=>{(async()=>{try{let e=await n.Z.getSettings();e&&s(e)}catch(e){console.error("Error loading settings:",e)}finally{t(!1)}})()},[]);let i=async r=>{try{let t={...e,...r};await n.Z.saveSettings(t),s(t)}catch(e){console.error("Error saving settings:",e)}},o=async()=>{await i({isSidebarVisible:!e.isSidebarVisible})};return{settings:e,isLoading:r,updateSettings:i,toggleSidebar:o}}();return(0,t.jsx)(i.Provider,{value:r,children:s})}let d=()=>(0,a.useContext)(i)}},e=>{var s=s=>e(e.s=s);e.O(0,[418,253,425,441,517,358],()=>s(35562)),_N_E=e.O()}]);